#:kivy 1.10.0
#:import Factory kivy.factory.Factory

<MyPopup@Popup>:
    auto_dismiss: False
    title: 'Help-Me'
    Button:
        text: 'Stuff will be written to describe program \n Press to close me!'
        background_normal: ''
        background_color: 0, 0, 0, 1
        on_release: root.dismiss()


<ScreenOne>:
    GridLayout:
        orientation: 'vertical'
        size: root.size
        rows: 3

        BoxLayout:
            size_hint: 1,0.1
            cols: 3

            Button:
                id: categ_button
                background_normal: ''
                background_color: 0, 0, 0, 1
                text: ""
                font_weight: 'Bold'
                font_size: 20
                size_hint_x: 0.2
                on_release: dropdown.open(self)

            Label:
                id: dab_label
                text: 'Distributed Advertising Board'
                font_size: 40
                font_weight: 'Bold'
                background_normal: ''
                background_color: 0.54, 0.824, 1, 1
                size_hint_x: 0.4

            Label:
                id: timer_label
                background_normal: ''
                background_color: 0, 0, 0, 1
                text: ""
                font_weight: 'Bold'
                font_size: 20
                color: 0.54, 0.824, 1, 1
                size_hint_x: 0.2

            DropDown:
                id: dropdown
                on_parent: self.dismiss()
                on_select: btn.text = '{}'.format(args[1])

                Button:
                    text: 'Automation'
                    font_weight: "Bold"
                    font_size: 20
                    size_hint_y: None
                    height: '48dp'
                    background_normal: ''
                    background_color: 0.54,0.824,1, 1
                    on_release: dropdown.select('Automation')

                Button:
                    text: 'Clothing'
                    font_weight: "Bold"
                    font_size: 20
                    size_hint_y: None
                    height: '48dp'
                    background_normal: ''
                    background_color: 0.54,0.824,1, 1
                    on_release: dropdown.select('Clothing')

                Button:
                    text: 'Daniel''s Fetish'
                    font_weight: "Bold"
                    font_size: 20
                    size_hint_y: None
                    height: '48dp'
                    background_normal: ''
                    background_color: 0.54,0.824,1, 1
                    on_release: dropdown.select('Daniel''s Fetish')

                Button:
                    text: 'Food'
                    font_weight: "Bold"
                    font_size: 20
                    size_hint_y: None
                    height: '48dp'
                    background_normal: ''
                    background_color: 0.54,0.824,1, 1
                    on_release: dropdown.select('Food')


        BoxLayout:
            size_hint: 1,0.8
            cols: 3

            Button:
                id: left_button
                background_normal: ''
                background_color: 0, 0, 0, 1
                text: ""
                font_weight: 'Bold'
                font_size: 50
                size_hint_x: 0.1

            AsyncImage:
                id: center_image
                pos: self.pos
                center: self.parent.center
                size: self.texture_size
                allow_stretch: True
                keep_ratio: False
                size_hint_x: 0.8

            Button:
                id: right_button
                background_normal: ''
                background_color: 0, 0, 0, 1
                text: ""
                font_weight: 'Bold'
                font_size: 50
                size_hint_x: 0.1

        BoxLayout:
            size_hint: 1,0.1
            cols: 3

            Label:
                id: user_label
                size_hint_x: 0.6
                background_normal: ''
                background_color: 0, 0, 0, 1
                text: "Finding user..."
                font_weight: "Bold"
                font_size: 40
                text_size: self.size
                valign: "middle"
                padding_x: 10
                color: 1, 0, 0, 1

            Button:
                id: help_button
                text: 'Help-Me'
                font_weight: "Bold"
                font_size: 40
                size_hint_x: 0.2
                background_normal: ''
                background_color: 0.8, 0, 0, 1
                on_release: Factory.MyPopup().open()

            Button:
                id: quit_button
                background_normal: ''
                background_color: 0, 0, 0, 1
                text: ""
                font_weight: 'Bold'
                font_size: 40
                color: 0, 0, 0, 1
                size_hint_x: 0.2


<Manager>:
    id: screen_manager

    screen_one: screen_one

    ScreenOne:
        id: screen_one
        name: "screen1"
        manager: screen_manager